---
title: CSS3 布局总览
date: 2020-12-13 20:01:13
tags: Css布局
categories: 前端Css
index_img: /images/user.jpg
banner_img: /images/user.jpg
---

## 布局拾忆
- 正常布局流,以下行为覆盖默认的布局流
    - display 标准的有block inline , 其他的布局形式: 
    - css Grid 
    - Flexbox(弹性盒子)
    - position
    - 多列布局
    - 表格布局
    - float
- 响应式布局

### Flexbox(弹性盒子) : 专门设计出来用于创建横向或是纵向的一维页面布局  
- flex 优势(出现的原因):使多列等高(不管内容)  所有子项有相同的宽/高度(不论还有多少宽高)  父元素中垂直居中块内容
- flex布局 占用的空间是在设置 padding 和 margin 之后剩余的空间 即尺寸都是内容尺寸 弹性盒子的真正价值可以体现在它的灵活性/响应性 ,flex布局是弹性的 根据排列方式 对你的width进行增加 删除(所以设置的width不一定就按照这个)
  
- flex-direction:column  指定主轴方向,默认row排成一排
- flex-grow : 它指定了flex容器中剩余空间的多少应该分配给项目。剩余的空间是flex容器的大小减去所有flex项的大小加起来的大小
- flex-basis: 元素的最低的一个值,根据元素的多少会变大(不会变小因为是先减去这个初始大小进行计算的宽/高度)
- flex-wrap : nowrap  控制flex items换行,这里换行不是在指标签中的内容,而是容器中每个flex元素,每个flex元素看做一个整体控制进行换行否
- flex (缩写):  flex-grow flex-shrink flex-basis      
>行内元素为弹性盒子,可以设置为inline-flex
>flex-flow(缩写) : flex-direction flex-wrap 
>flex-basis: auto,auto将使用宽度 width作为flex-basis值。

- align-items 控制 flex 项在交叉轴上的位置,默认的值是 stretch，其会使所有 flex 项沿着交叉轴的方向拉伸以填充父容器, 如果父元素没有固定高度,那就和最长的那一列高度相等
- >center 值会使这些项保持其原有的高度，但是会在交叉轴居中
- >align-self  可以覆盖align-items 一般用来设置某个特定的元素使用
- justify-content 控制 flex 项在主轴上的位置。默认值是 flex-start，这会使所有 flex 项都位于主轴的开始处。 
- >space-around ——它会使所有 flex 项沿着主轴均匀地分布，在任意一端都会留有一点空间。 space-between 则不会再两端留有空间


- 利用order 进行flex 项排序 ,默认值为0 order小的显示顺序在前 可以为负值


### Grid布局 在两个维度把元素按行和列 排列整齐
- 通过display:gird转到grid布局,分别使用grid-template-rows/columns 两个属性定义一些行/列的大小
   - grid-template-rows :规定每一行的高度,有几行写几个值,如果元素内容超过此高度,就会溢出
   - grid-template-columns :规定每一列的宽度,宽度内不会溢出内容
   - >默认你会看到列的高度调整为与最高的容器一样高
>grid-template-columns: repeat(12, 1fr);创建12列等宽
> fr 单位——这个为网格布局定义的单位,如果所有列都是1fr，它们将占用相等的空间量。这消除了计算百分比以创建灵活网格的需要。

- 利用 grid-column 和 grid-row 两个属性来指定元素跨越的列数/行数.
- > grid-column: auto / span 6; 跨6列
- > grid-column:span 2/3 -> 从第三基线向前扩展两行

- >grid-template-areas设置区域 ,用 grid-area  是设置行和列的grid-column/row的简写

- grid-gap 属性用来设置网格行与列之间的间隙

>使用grip-row/column 时有时候会导致子项之间位置变化,这时候同时设置grip-row grip-column 两项保证位置不变的情况进行扩展

- 在不使用gird的情况下怎么创建网格布局: 可以利用div块 子元素的浮动属性,构建一个网格系统布局,但是这是固定的宽度,创建流体网格可以使用百分比设置宽度   flex也可以用来创建网格系统,但是flex仍然是一维设计的,用来处理网格还是需要计算width
- 第三方网格系统 :  Bootstrap 提供了独立的网格系统


### position定位
-绝对定位元素（absolutely positioned element）是计算后位置属性为 absolute 或 fixed 的元素

- absolute 定位 :元素会被移出正常文档流，并不为元素预留空间，通过指定元素相对于最近的非 static 定位祖先元素的偏移，来确定元素位置。 没有非static祖先元素定位,则针对可视窗口定位(类似fixed)
- > 绝对定位的元素可以设置外边距（margins），且不会与其他边距合并。
- 绝对定位元素填充可用空间 :
- > 大多数情况下，height和width 被设定为auto的绝对定位元素，按其内容大小调整尺寸, 被绝对定位的元素可以通过指定top和bottom ，保留height未指定（即auto），来填充可用的垂直空间。它们同样可以通过指定left 和 right并将width 指定为auto来填充可用的水平空间。     当大小不足以满足上下 左右的px值时,top left优先级大于 rigtht bottom

- 固定定位应用于视口(viewport)边框。利用这一特性，我们可以轻松搞出一个固定位置的菜单，而不受底下的页面滚动的影响。
- 相对定位(relative positioning)让你能够把一个正常布局流(normal flow)中的元素从它的默认位置按坐标进行相对移动。
- 固定定位fixed：对于浏览器可视窗口进行定位
- 粘性定位(sticky position)  元素根据正常文档流进行定位，然后相对它的最近滚动祖先,无法做到能够随意在页面像absolute那样定位, 正常文档流,简单理解粘性定位,是针对外围的父元素(作为容器)进行定位

> left rigth 的值如果是百分比,则是非static定位的祖先元素的宽度   top bottom则是高度的百分比
> z-index属性。 “z-index”是对z轴的参考 ,当元素开始重叠，什么决定哪些元素出现在其他元素的顶部

- 定位层级z-index：在重叠时决定谁在上面
  对于**定位元素**来说通过定义层级来决定谁的层级高
  默认后者高于前者 **同级的元素才有可比性**,父子元素之间的z-index是失效的(除非子元素设置负值父元素设置auto)
- 对于同级元素说,z-index根据数值大小进行排列
- z-index 也支持过渡效果,它没有在每一步改变它的值(没有渐变效果)，所以你认为它没有过渡效果，但实际上是有的
>对于float元素 z-index还有更复杂的状况.详细查询资料

### 多列布局 通常也简写为 multicol
- column-count    column-width 属性把块变为多列容器
>column-width  浏览器将按照你指定的宽度尽可能多的创建列；任何剩余的空间之后会被现有的列平分。 这意味着你可能无法期望得到你指定宽度，除非容器的宽度刚好可以被你指定的宽度除尽。
- Multicol 创建的列无法单独的设定样式。 不存在让单独某一列比其他列更大的方法，同样无法为某一特定的列设置独特的背景色、文本颜色。
   -  column-gap 改变列间间隙。
   -  column-rule 在列间加入一条分割线。
- 多列布局的内容因为空间问题(分配内容是按一列一列的填充)被拆成多个内容(称为内容折断)  通过属性break-inside: avoid 在内容(子元素)中添加防止

##### float 浮动
- 浮动后,文本和内联元素环绕它,如果文本或者内联元素包裹在div中,那么仍然会环绕它,(块级元素不会换行,除非div块中还有块级元素,块级元素后还有内容),

- 行级元素可以设置宽高有了块级元素的特征 ，不设置时有内容撑开元素
  浮动元素向指定方向移动，直到遇见边框。 
  浮动元素浮动时子元素撑开父元素 (创建bfc时才行)
  
- 浮动元素会提升层级压住标准元素

- clear 属性适用于浮动和非浮动元素。 clear方法可以让浮动元素撑开父容器


### 正常文档流
- 取得元素的内容来放在一个独立的元素盒子中，然后在其周边加上内边距、边框和外边距 --- 就是我们之前看到的盒子模型。
- 默认的，一个块级元素的内容宽度是其父元素的100%，其高度与其内容高度一致。行内元素的height width与内容一致,你无法设置行内元素的height width


### 表格布局(通常用于老的不支持 弹性盒子的浏览器)
- display: table  display: table-row ..
-------------------



(待实践...)

### 传统的布局方法
- 我们在宽度的表示上都用的是百分比,这创建了一个流动布局（liquid layout），能够适应不同的屏幕大小，这是响应式网页非常有价值的一个工具。
- 固定宽度网格,通过浮动和div块固定的width创建一个网格
- 创建液态网格(弹性（流体）的网格),把固定宽度转为伸缩的基于百分比宽度的算式在下面：
- >target (目标列长度)/ context (上下文)= result  你可以用 calc() 函数来在CSS里面做数学方面的计算
- 我们挪动小数点两位，得到百分数,在css中我们使用百分比代替固定数值
- >这个系统的最大限制是，它本质上是一维的。我们在处理列、让元素跨越列，但是处理不了行。如果不设置一个确定的高度，用老方法很难控制元素高。这个方法很不灵活 —它只有在你确定你的内容有个明确的高的情况下有用。


### 旧浏览器支持
- 在CSS中构建回滚 CSS规范包含了在一个物件上同时应用两种布局的时候，解释浏览器反应的信息
- 特性查询  允许测试一个浏览器是否支持特定的一个css特性
- 测试旧浏览器